// src/data/markers.js
import { photo } from '../utils/assetPath.js';

// 1) Исходный набор маркеров (нормализованные координаты y в [0,1])
const baseMarkers = [
  { x: 0.50,  y: 0.20, img: photo('1.jpg'),  title: 'Мудрые слова классика' },
  { x: 0.659, y: 0.271,img: photo('2.jpg'),  title: 'Мое увлечение общением, не дало тебе съездить сюда.Прости. Надеюсь, мы это исправим в ближайшее время' },
  { x: 0.780, y: 0.420,img: photo('3.jpg'),  title: 'Ездили в "Шашлычный дворик"' },
  { x: 0.780, y: 0.580,img: photo('4.jpg'),  title: 'Пили кофе' },
  { x: 0.659, y: 0.729,img: photo('5.jpg'),  title: 'Наблюдали за реставрацией парка. И ты искусно совершал маневры, чтобы припарковаться и выехать' },
  { x: 0.50,  y: 0.80, img: photo('6.jpg'),  title: 'Мы шли к этому разными дорогами' },
  { x: 0.341, y: 0.729,img: photo('7.jpg'),  title: 'Посетили Сквер Победы' },
  { x: 0.220, y: 0.580,img: photo('8.jpg'),  title: 'Прогуливались по парку и качались на качелях' },
  { x: 0.220, y: 0.420,img: photo('9.jpg'),  title: 'А помнишь куда выходили окна?Наша машинка Вечерние выходы с сигаретой в места для курения' },
  { x: 0.341, y: 0.271,img: photo('10.jpg'), title: 'Мы шли к этому разными дорогами' },
  { x: 0.50,  y: 0.50,  img: photo('11.jpg'), title: 'я помню...' }
];

// 2) Находим текущий максимальный y
const maxY = Math.max(...baseMarkers.map(m => m.y));

// 3) Вычисляем смещение, чтобы maxY стало ровно 1.0
const OFFSET_Y = 1 - maxY;

// 4) Применяем это смещение ко всем маркерам и «клэмпим» результат в [0,1]
export const MARKERS = baseMarkers.map(marker => {
  const shiftedY = marker.y + OFFSET_Y;
  return {
    ...marker,
    y: Math.min(1, Math.max(0, shiftedY))
  };
});
